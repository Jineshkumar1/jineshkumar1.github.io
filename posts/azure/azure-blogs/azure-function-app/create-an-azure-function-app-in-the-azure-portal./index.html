<!doctype html><html lang=en><head><title>Azure function APP with Demo</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/application.fb9df7e952c9dccf496d00faec07de633aae460f909bbba4b5e0ad22f5887d73.css integrity="sha256-+5336VLJ3M9JbQD67AfeYzquRg+Qm7ukteCtIvWIfXM="><link rel=icon type=image/png href=/images/site/favicon_hub97088de3c2469b69037e6e70bdd56ed_65389_42x0_resize_box_3.png><meta property="og:title" content="Azure function APP with Demo"><meta property="og:description" content="All about Azure function app."><meta property="og:type" content="article"><meta property="og:url" content="https://jineshkumar1.github.io/posts/azure/azure-blogs/azure-function-app/create-an-azure-function-app-in-the-azure-portal./"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-06-08T08:06:25+06:00"><meta property="article:modified_time" content="2020-06-08T08:06:25+06:00"><meta name=description content="All about Azure function app."></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/main-logo_hub97088de3c2469b69037e6e70bdd56ed_65389_42x0_resize_box_3.png alt=Logo>
Jineshkumar Patel</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=dark><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=system><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/main-logo_hub97088de3c2469b69037e6e70bdd56ed_65389_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo_hub97088de3c2469b69037e6e70bdd56ed_65389_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><a href=/posts/introduction/ title=Introduction>Introduction</a></li><li><i class="fas fa-plus-circle"></i><a href=/posts/aws/>AWS</a><ul><li><i class="fas fa-plus-circle"></i><a href=/posts/aws/aws-blogs/>AWS-Blogs</a><ul><li><a href=/posts/aws/aws-blogs/analytics-and-commands/analytics-and-comments/ title="Analytics & Comments">Analytics & Comments</a></li></ul></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/azure/>Azure</a><ul class=active><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/azure/azure-blogs/>Azure-Blogs</a><ul class=active><li><a href=/posts/azure/azure-blogs/azure-storage-account/azure-storage-account/ title="All about Azure Storage">All about Azure Storage</a></li><li><a href=/posts/azure/azure-blogs/deploy-docket-image/deploy-dockerhub-images-onto-docker-container-using-azure-container-instance/ title="Deploy DockerHub Images onto Docker Container using Azure Container Instance.">Deploy DockerHub Images onto Docker Container using Azure Container Instance.</a></li><li><a href=/posts/azure/azure-blogs/voting-app-in-aks/deploy-voting-app-using-azure-kubernetes-cluster-service/ title="Deploy Voting App using AKS">Deploy Voting App using AKS</a></li><li><a href=/posts/azure/azure-blogs/host-static-website/host-your-static-website-using-apache2-on-a-linux-machine-deployed-on-azure./ title="Host your static website using Apache2 on a Linux .">Host your static website using Apache2 on a Linux .</a></li><li><a href=/posts/azure/azure-blogs/pass-az900/how-to-pass-az-900-azure-fundamental/ title="How to PASS AZ-900 Azure Fundamental">How to PASS AZ-900 Azure Fundamental</a></li><li><a href=/posts/azure/azure-blogs/intro-to-arm-template/introduction-to-azure-arm-templates/ title="Introduction to ARM Templates">Introduction to ARM Templates</a></li><li><a href=/posts/azure/azure-blogs/sync-onprem-ad-to-azuread/how-to-sync-your-on-premise-ad-with-azure-ad-hands-on/ title="SYNC your On-Premise AD  with AZURE AD">SYNC your On-Premise AD with AZURE AD</a></li><li><a href=/posts/azure/azure-blogs/veeam-backup-for-azure/veeam-backup-for-azure-deployment-on-azure/ title="Veeam Backup for Azure">Veeam Backup for Azure</a></li><li><a class=active href=/posts/azure/azure-blogs/azure-function-app/create-an-azure-function-app-in-the-azure-portal./ title="Azure function app">Azure function app</a></li><li><a href=/posts/azure/azure-blogs/azcopy-migration/azure-azcopy-migration-from-aws-s3-bucket-to-azure-storage/ title="Data Migration from AWS S3 Bucket to Azure Storage">Data Migration from AWS S3 Bucket to Azure Storage</a></li></ul></li></ul></li><li><a href=/posts/markdown-sample/ title="Markdown Sample">Markdown Sample</a></li><li><a href=/posts/shortcodes/ title="Shortcodes Sample">Shortcodes Sample</a></li><li><a href=/posts/wsl2/windows-subsystem-for-linux-usl2/ title=WSL2>WSL2</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/default-hero.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/john_hu114b07c920d051f54631f7c273663186_754825_120x120_fit_box_3.png alt="Author Image"><h5 class=author-name>Jineshkumar Patel</h5><p>Monday, June 8, 2020</p></div><div class=title><h1>Azure function APP with Demo</h1></div><div class=taxonomy-terms><ul style=padding-left:0><li class=rounded><a href=/tags/azure/ class="btn, btn-sm">Azure</a></li><li class=rounded><a href=/tags/cloud/ class="btn, btn-sm">Cloud</a></li><li class=rounded><a href=/tags/azure-function/ class="btn, btn-sm">Azure Function</a></li></ul></div><div class=post-content id=post-content><h2 id=create-an-azure-function-app-in-the-azure-portal>Create an Azure function app in the Azure portal.</h2><p><strong>Azure Functions (FaaS)</strong> is simply a platform to upload the application code, run, and manage the application without having to think about setting up any servers.</p><p>Serverless compute can be thought of as a &ldquo;function as a service&rdquo; (FaaS), or a microservice that is hosted on a cloud platform. Your business logic runs as functions and you don&rsquo;t have to manually provision or scale infrastructure. Serverless computing helps solve the allocation problem by scaling up or down automatically, and you&rsquo;re only billed when your function is processing work.</p><p>The two most common approaches are <strong>Azure Logic Apps</strong> and <strong>Azure Functions</strong>, which we&rsquo;ll focus on this blog.</p><p><strong>Azure Functions</strong> is the** function-as-a-service (FaaS)** offering from <strong>Azure Serverless</strong> the equivalent of AWS Lambda from Amazon.</p><h3 id=what-is-azure-functions>What is Azure Functions?</h3><p>Azure Functions is a serverless application platform. It enables developers to host business logic that can be executed without provisioning infrastructure. Functions provides intrinsic scalability and you are charged only for the resources used. You can write your function code in the language of your choice, including C#, F#, JavaScript, Python, and PowerShell Core. Support for package managers like NuGet and NPM is also included, so you can use popular libraries in your business logic.</p><h3 id=benefits-of-a-serverless-compute-solution>Benefits of a serverless compute solution</h3><ol><li>Avoids over-allocation of infrastructure</li><li>Stateless logic</li><li>Event / Trigger Driven.</li><li>Can be converted into Traditional Compute Environment.</li></ol><h3 id=create-a-function-app-in-the-azure-portal>Create a function app in the Azure portal</h3><ul><li>From Azure Portal > Azure Services > Create a Resource > Compute > Select Function App And fill out all the Basics Tab&rsquo;s information as follows,
Publish Code<br>Runtime stack Node.js</li></ul><p><img src=https://cdn.hashnode.com/res/hashnode/image/upload/v1629426879474/w4vlP7to_I.png alt="functions 1.PNG"></p><ul><li>Next >Hosting : Select Storage Account, Service Plan : Consumption (Serverless)</li></ul><p><img src=https://cdn.hashnode.com/res/hashnode/image/upload/v1629426869397/LtkVcpjIO.png alt="functions 2.PNG"></p><blockquote></blockquote><p>Note : Choose the Consumption plan when using the Azure serverless application platform. This plan provides automatic scaling and bills you when your functions are running. The Consumption plan comes with a configurable timeout period for the execution of a function. By default, it&rsquo;s five (5) minutes, but may be configured to have a timeout as long as 10 minutes.</p><ul><li><p>No to Monitoring and No Tags. (Just for this example purposes)</p></li><li><p>Review + Create and Create<br>Result</p></li></ul><p><img src=https://cdn.hashnode.com/res/hashnode/image/upload/v1629426957480/37NYD0HOB.png alt="function 3 Final.PNG"></p><h3 id=now-that-we-have-a-function-app-created-lets-look-at-how-to-build-configure-and-execute-a-function-we-need-to-run-our-code-and-add-logic-to-the-function-app-on-demand-with-azure-functions>Now that we have a function app created, let&rsquo;s look at how to build, configure, and execute a function. We need to Run our code and Add logic to the function app on-demand with Azure Functions</h3><p>Functions are event driven (Triggers), which means they run in response to an event.<br>You must configure a function with exactly one trigger.</p><p>Triggers can be any of the following services</p><pre tabindex=0><code>Blob Storage                        Queue Storage 
Event Grid                             HTTP  
Microsoft Graph Events                Azure Cosmos DB       
Service Bus                          Timer  
 
</code></pre><p>**Little bit about bindings **<br>Bindings are a declarative way to connect data and services to your function. Bindings know how to talk to different services, which means you don&rsquo;t have to write code in your function to connect to data sources and manage connections.<br>Each function can have zero or more bindings to manage the input and output data processed by the function.</p><p>Defining a sample binding for an Example,
" Let&rsquo;s say we want to write a new row to Azure Table storage whenever a new message appears in Azure Queue Storage. This scenario can be implemented using an Azure Queue Storage trigger and an Azure Table storage output binding."</p><p>JSON</p><pre tabindex=0><code>{
  &#34;bindings&#34;: [
    {
      &#34;name&#34;: &#34;order&#34;,
      &#34;type&#34;: &#34;queueTrigger&#34;,
      &#34;direction&#34;: &#34;in&#34;,
      &#34;queueName&#34;: &#34;myqueue-items&#34;,
      &#34;connection&#34;: &#34;MY_STORAGE_ACCT_APP_SETTING&#34;
    },
    {
      &#34;name&#34;: &#34;$return&#34;,
      &#34;type&#34;: &#34;table&#34;,
      &#34;direction&#34;: &#34;out&#34;,
      &#34;tableName&#34;: &#34;outTable&#34;,
      &#34;connection&#34;: &#34;MY_TABLE_STORAGE_ACCT_APP_SETTING&#34;
    }
  ]
}
</code></pre><p>This example is a simple illustration of how we configure bindings for a function. We could change the output to be an email using a SendGrid binding, or put an event onto a Service Bus to notify some other component in our architecture, or even have multiple output bindings to push data to various services.</p><p><strong>Create a function in the Azure portal</strong> in your Function App,</p><p>Azure provides several pre-made function templates for common scenarios: Selecting a template from the Add function pane provides easy access to the most common templates. as per,</p><p>Screenshot shows I selected HTTP Trigger 1 function
<img src=https://cdn.hashnode.com/res/hashnode/image/upload/v1629427874981/TcFF2evuf.png alt="create functions 1.PNG"></p><p>Navigate to your function and files : HTTPTrigger1 | Code + Test > Test/Run > function.json file
As per,</p><p><img src=https://cdn.hashnode.com/res/hashnode/image/upload/v1629428139231/hzU99EUz8.png alt="create functions 2.PNG"></p><p><strong>Test in the Azure portal</strong>
The portal also provides a convenient way to test your functions. As previously described, after selecting Test/Run from the top menu bar, on the right side of the code box, a tabbed Test pane appears. Here, you can provide parameters to test the HTTP request. When you select Run in this pane, the results appear in the Output tab, along with a status code in the Logs pane.</p><h3 id=add-logic-to-the-function-app>Add logic to the function app</h3><p>Example : Add the logic for the temperature number. Specifically, we&rsquo;re going to receive data from an HTTP request.</p><p>First, we need to define some requirements for our logic:</p><p>Temperatures between 0-25 degrees should be flagged as OK.
Temperatures between 26-50 degrees should be flagged as CAUTION.
Temperatures above 50 degrees should be flagged as DANGER.</p><p>Replace Index.js file content with following for our js logic JS code, as per,</p><pre tabindex=0><code>module.exports = function (context, req) {
    context.log(&#39;Drive Gear Temperature Service triggered&#39;);
    if (req.body &amp;&amp; req.body.readings) {
        req.body.readings.forEach(function(reading) {

            if(reading.temperature&lt;=25) {
                reading.status = &#39;OK&#39;;
            } else if (reading.temperature&lt;=50) {
                reading.status = &#39;CAUTION&#39;;
            } else {
                reading.status = &#39;DANGER&#39;
            }
            context.log(&#39;Reading is &#39; + reading.status);
        });

        context.res = {
            // status: 200, /* Defaults to 200 */
            body: {
                &#34;readings&#34;: req.body.readings
            }
        };
    }
    else {
        context.res = {
            status: 400,
            body: &#34;Please send an array of readings in the request body&#34;
        };
    }
    context.done();
};
</code></pre><p><img src=https://cdn.hashnode.com/res/hashnode/image/upload/v1629429059316/2R4snuvUE.png alt="create functions 4.PNG"></p><p>The logic we added is straightforward. We iterate over the array of readings and check the temperature field. Depending on the value of that field, we set a status of OK, CAUTION, or DANGER. We then send back the array of readings with a status field added to each entry.</p><p>Test our business logic
In this case, we&rsquo;re going to use the Test pane in the portal to test our function.</p><p>In the Test pane, under the Input tab, paste the sample request into the request Body text box.</p><pre tabindex=0><code>{
    &#34;readings&#34;: [
        {
            &#34;driveGearId&#34;: 1,
            &#34;timestamp&#34;: 1534263995,
            &#34;temperature&#34;: 23
        },
        {
            &#34;driveGearId&#34;: 3,
            &#34;timestamp&#34;: 1534264048,
            &#34;temperature&#34;: 45
        },
        {
            &#34;driveGearId&#34;: 18,
            &#34;timestamp&#34;: 1534264050,
            &#34;temperature&#34;: 55
        }
    ]
}
</code></pre><p>like this,</p><p><img src=https://cdn.hashnode.com/res/hashnode/image/upload/v1629429202944/i8-xUqo7e.png alt="create functions 5.PNG"></p><p>**Select Run ** and view the response under the Output tab.</p><p><img src=https://cdn.hashnode.com/res/hashnode/image/upload/v1629429636987/FHmD0Tu-Z.png alt="create functions 6.PNG"></p><p>Resource to know more in detail,</p><p><a href=https://docs.microsoft.com/en-us/learn/modules/create-serverless-logic-with-azure-functions/ target=_blank rel=noopener>Create serverless logic with Azure Functions</a></p><p>Feel free to try and Let me know if you have any questions or improvements I can provide.</p><p>I hope you like the Blog: Introduction to ARM Templates.
Thanks for the read. Follow for more Awesome Azure and AWS Content.</p><p>Regards,<br>Jineshkumar Patel</p></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fjineshkumar1.github.io%2fposts%2fazure%2fazure-blogs%2fazure-function-app%2fcreate-an-azure-function-app-in-the-azure-portal.%2f" target=_blank><i class="fab fa-facebook"></i></a>
<a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2fjineshkumar1.github.io%2fposts%2fazure%2fazure-blogs%2fazure-function-app%2fcreate-an-azure-function-app-in-the-azure-portal.%2f&text=Azure%20function%20APP%20with%20Demo&via=Jineshkumar%20Patel" target=_blank><i class="fab fa-twitter"></i></a>
<a class="btn btn-sm reddit-btn" href="https://reddit.com/submit?url=https%3a%2f%2fjineshkumar1.github.io%2fposts%2fazure%2fazure-blogs%2fazure-function-app%2fcreate-an-azure-function-app-in-the-azure-portal.%2f&title=Azure%20function%20APP%20with%20Demo" target=_blank><i class="fab fa-reddit"></i></a>
<a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fjineshkumar1.github.io%2fposts%2fazure%2fazure-blogs%2fazure-function-app%2fcreate-an-azure-function-app-in-the-azure-portal.%2f&title=Azure%20function%20APP%20with%20Demo" target=_blank><i class="fab fa-linkedin"></i></a>
<a class="btn btn-sm whatsapp-btn" href="https://api.whatsapp.com/send?text=Azure%20function%20APP%20with%20Demo https%3a%2f%2fjineshkumar1.github.io%2fposts%2fazure%2fazure-blogs%2fazure-function-app%2fcreate-an-azure-function-app-in-the-azure-portal.%2f" target=_blank><i class="fab fa-whatsapp"></i></a>
<a class="btn btn-sm email-btn" href="mailto:?subject=Azure%20function%20APP%20with%20Demo&body=https%3a%2f%2fjineshkumar1.github.io%2fposts%2fazure%2fazure-blogs%2fazure-function-app%2fcreate-an-azure-function-app-in-the-azure-portal.%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/jineshkumar1/jineshkumar1.github.io/edit/main/content/posts/Azure/Azure-Blogs/Azure%20Function%20App/Create%20an%20Azure%20function%20app%20in%20the%20Azure%20portal..md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/azure/azure-blogs/veeam-backup-for-azure/veeam-backup-for-azure-deployment-on-azure/ title="Veeam Backup for Azure" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>Veeam Backup for Azure</div></a></div><div class="col-md-6 next-article"><a href=/posts/azure/azure-blogs/azcopy-migration/azure-azcopy-migration-from-aws-s3-bucket-to-azure-storage/ title="Data Migration from AWS S3 Bucket to Azure Storage" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>Data Migration from AWS S3 Bucket to Azure Storage</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://jineshkumar1.github.io/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://jineshkumar1.github.io/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://jineshkumar1.github.io/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://jineshkumar1.github.io/#education>Education</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:jineshkumar.patel@yahoo.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>jineshkumar.patel@yahoo.com</span></a></li><li><a href=https://github.com/jineshkumar1 target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>jineshkumar1</span></a></li><li><a href=https://www.linkedin.com/in/jineshkumarpatel target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Jineshkumar Patel</span></a></li><li><span><i class="fas fa-phone-alt"></i></span> <span>+0123456789</span></li></ul></div></div></div></footer><script src=/application.90f6ab2fc90d54b9831c06db39dd3f78d3593b32668cc5f5dde4c9c6001ad94f.js integrity="sha256-kParL8kNVLmDHAbbOd0/eNNZOzJmjMX13eTJxgAa2U8=" defer></script>
<script src=https://storage.ko-fi.com/cdn/scripts/overlay-widget.js></script>
<script>kofiWidgetOverlay.draw("jineshkumarpatel",{type:"floating-chat","floating-chat.donateButton.text":"","floating-chat.donateButton.text-color":"#f9fafc","floating-chat.donateButton.background-color":"#248aaa"})</script></body></html>